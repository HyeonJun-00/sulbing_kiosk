html( lang="ko" )
    head
        meta( charset="utf-8" )
        script(src="http://code.jquery.com/jquery-latest.min.js")
        link( rel="stylesheet", href="./css/mainPage.css" )
        link( rel="stylesheet", href="./css/optionmodal.css")
        link( rel="preconnect" href="https://fonts.googleapis.com" )
        link( rel="preconnect" href="https://fonts.gstatic.com" crossorigin )
        link( href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet" )
        link(rel="stylesheet" href="//cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css")
        script(src="https://kit.fontawesome.com/90abd907ab.js" crossorigin="anonymous")
    body
        img(src="./images/aaa.jpg", alt="" class="a")
        main.main 
            section.logoBox
                img(src="./images/sulbingLogo.png", alt="")
            section.showProduct
                ul.menuBar1
                    - let check = 0;
                    - for (let i = 0; i < menu.length; i++)
                        -if (menu[i].lv1_id != check)
                            li  #{menu[i].lv1_name}
                            - check = menu[i].lv1_id
                ul.menuBar2
                    - let menuIndex = [];
                    - let pageNum = 0;
                    - check = 0;
                    - for (let i = 0; i < menu.length; i++)
                        -if (menu[i].lv1_id != check)
                            li
                                -for(let j = 0; j < menu.length; j++)
                                    -if (j == 0)
                                        - menuIndex.push([`${pageNum + 1}_all`]);
                                        div All
                                    -if (menu[j].lv1_id == 1 + check)
                                        div #{menu[j].lv2_name}
                                        - menuIndex[pageNum].push(menu[j].lv2_id);
                            - check = menu[i].lv1_id
                            - pageNum++;
                hr.menuBarLine
                - pageNum = 1;
                - check = 0;
                - for (let i = 0; i < menu.length; i++)
                    - if (menu[i].lv1_id != check)
                        section.productListWrapBox
                            - let lv2Index = 0;
                            - for(let v = 0; v < menuIndex[pageNum - 1].length; v++)
                                article.productListBox
                                    - for (let j = 0; j < menuInProduct.length; j++)
                                        -if (menuInProduct[j].menu_id == menuIndex[pageNum - 1][lv2Index])
                                            - for (let k = 0; k < product.length; k++)
                                                - if (menuInProduct[j].product_id == product[k].product_id)
                                                    div.productItem(data-product-id = `${product[k].product_id}`)
                                                        img(src=`images/${product[k].image_path}`, alt="")
                                                        p #{product[k].name}
                                                        p #{Number(String(product[k].price - (product[k].price / 100 * product[k].discount)).replace(/[^0-9,]/g, '')).toLocaleString()}원
                                                        div
                                                            section 
                                                                button.option_modal_x_button
                                                            div.option_modal_up
                                                                img.optionImg(src=`images/${product[k].image_path}` alt='mangoBingsoo')
                                                                div.option_modal_text
                                                                    p #{product[k].name}
                                                                    p.productPrice #{Number(String(product[k].price - (product[k].price / 100 * product[k].discount)).replace(/[^0-9,]/g, '')).toLocaleString()}원
                                                                    p #{product[k].discription}
                                                                    p 알레르기정보 : #{product[k].allergy}
                                                                div.totalPrice
                                                                    div 
                                                                        hr
                                                                        p 상품의 옵션을 선택하세요.
                                                                        hr
                                                                    p 합계:  
                                                                    p.resultPrice 0원
                                                                    hr 
                                                            div.option_modal_down
                                                                - let che = "a";
                                                                - for (let i = 0; i <= productOptionArray[product[k].product_id].length; i++)
                                                                    - if (productOptionArray[product[k].product_id].length > i)
                                                                            - if (che != productOptionArray[product[k].product_id][i][0])
                                                                                div
                                                                                    p #{productOptionArray[product[k].product_id][i][0]}
                                                                                    - for (let ac = 0; productOptionArray[product[k].product_id].length > ac + i && productOptionArray[product[k].product_id][i][0] == productOptionArray[product[k].product_id][i + ac][0]; ac++ )
                                                                                        button.optionButton(data-option-id = `${productOptionArray[product[k].product_id][i + ac][4]}`) #{productOptionArray[product[k].product_id][i + ac][1]} #{productOptionArray[product[k].product_id][i + ac][2] - ((productOptionArray[product[k].product_id][i + ac][2]) / 100 * productOptionArray[product[k].product_id][i + ac][3]) }원
                                                                                    - che = productOptionArray[product[k].product_id][i][0]
                                                                    - else
                                                                            div.option_modal_basket
                                                                                button.option_modal_x_button 취소
                                                                                button.add_order_button 주문담기

                                    - lv2Index++
                        - check = menu[i].lv1_id
                        - pageNum++;

            section.orderHistory
                section.orderBox
                div
                    p#total_number 총 수량(0)
                    p#total_amount 0 원
                    button#result_button 결제
                    button#reset_button 초기화
                            div.modalBack#modalBack
            div.modalBackground
                div.option_modal_main
            main.payment_modal
                div.modal
                    section 
                        button.payment_modal_x_button
                    section
                        div
                            button.store_or_packaging.backgroundFlag 매장에서 
                            button.store_or_packaging 포장하기
                        div 
                            p
                            p 스푼 개수
                            span 
                                button.spoon_number_minus -
                                p 0
                                button.spoon_number_plus +
                        div
                            p
                            p 드라이아이스
                            span 
                                button.dryice_number_minus -
                                p 0
                                button.dryice_number_plus +
                    section 
                        div.payment_modal_order_box
                            div.option
                                p 상품명
                                p 수량
                                p 가격
                            aside
                            div.option.totalPrice
                                p 총합:
                                p 
                                p#final_amount
                    section
                        button#point_payment
                            img(src="images/pay_img/kakaopay.png", alt="")
                            p 포인트 적립
                        button#card_payment
                            img(src="images/pay_img/kakaopay.png", alt="")
                            p 카드 결제
                        button#pay_payment
                            img(src="images/pay_img/kakaopay.png", alt="")
                            p 페이 결제
                        button#voucher_payment
                            img(src="images/pay_img/kakaopay.png", alt="")
                            p 기프티콘 결제
                    section
                        button.payment_modal_x_button 취소
                        button 결제하기
                div.modal2WrapBox
                    div.modal2
                        section 
                            button.modal2_x_button
                        section.modal2_pay
                            img(src="images/pay_img/applepayre.png", alt="")
                        section.modal2_pay
                            img(src="images/pay_img/kakaopay.png", alt="")
                        section.modal2_pay 
                            img(src="images/pay_img/naverpay2.png", alt="")
                        section.modal2_pay 
                            img(src="images/pay_img/samsungpay2.png", alt="")
                        section
                            button.modal2_x_button 취소하기
                            button.modal2_o_button 선택하기
            main.point_modal_background
                div.point_modal
                    section 
                        button.point_modal_x_button
                    section 
                        div
                            input(type="text" placeholder="휴대폰 번호를 입력하세요")
                            button 조회
                        div
                            - const buttonValue = [1,2,3,4,5,6,7,8,9, "010", 0, "<"];
                            - for(let i = 0; i < 12; i++)
                                button #{buttonValue[i]}
                    section 
                        div
                            p 보유 스탬프:
                            p 23/10
                            hr 
                            p 적립 스탬프:
                            p 1개
                            hr
                            p 스탬프 사용:
                            p 5000원 할인[10개 차감]
                            hr
                        div
                            button.point_modal_x_button 취소
                            button.point_modal_o_button 사용하기
                div.point_modal_sub
                    section
                        div
                            p 적립 하시겠습니까? 
                        div
                            button 취소
                            button 적립

        script(src="./js/mainPage.js")